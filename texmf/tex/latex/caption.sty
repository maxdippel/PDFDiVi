\def\caption{\refstepcounter\@captype \@dblarg{\@caption\@captype}}

\long\def\@caption#1[#2]#3{\addcontentsline{\csname
  ext@#1\endcsname}{#1}{\protect\numberline{\csname
  the#1\endcsname}{\ignorespaces #2}}\par
  \begingroup
    \@parboxrestore
    \small					%---
    \@makecaption{\csname fnum@#1\endcsname}{\ignorespaces #3}\par
  \endgroup}

% \@makecaption{NUMBER}{TEXT} : Macro to make a figure or table caption.
%      NUMBER : Figure or table number--e.g., 'Figure 3.2'
%      TEXT   : The caption text.
%  Macro should be called inside a \parbox of right width, with \normalsize.
% changed 25 Jun 86 to fix according to Howard Trickey:
% instead of \unhbox\@tempboxa\par we do #1: #2\par

\newlength{\anchocaption}			%---

\long\def\@makecaption#1#2{
   \vskip 10pt
   \setbox\@tempboxa\hbox{#1: #2}
   \setlength{\anchocaption}{\hsize}		%---
   \addtolength{\anchocaption}{-2\leftmargini}	%---
   \ifdim \wd\@tempboxa >\anchocaption   % IF longer than one line:	%---
      %   THEN set as ordinary paragraph.
        \begin{list}{}{	\setlength{\leftmargin}{\leftmargini}		%---
                      	\setlength{\rightmargin}{\leftmargini}		%---
			\setlength{\labelsep}{\leftmargini}		%---
			\setlength{\labelwidth}{0pt} }			%---
	   \item[] #1: #2						%---
	\end{list}							%---
     \else                        %   ELSE  center.
	\begin{center} #1: #2 \end{center}				%---
   \fi}


\def\chapi{\par
 \setcounter{chapter}{0}
 \setcounter{section}{0}
 \def\@chapapp{Chapter}
 \def\thechapter{\arabic{chapter}}}


\def\chap{\par
 \setcounter{chapter}{0}
 \setcounter{section}{0}
 \def\@chapapp{Cap\'{\i}tulo}
 \def\thechapter{\arabic{chapter}}}

\def\appendix{\par
 \setcounter{chapter}{0}
 \setcounter{section}{0}
 \def\@chapapp{Ap\'{e}ndice}
 \def\thechapter{\Alph{chapter}}}

\def\appendixi{\par
 \setcounter{chapter}{0}
 \setcounter{section}{0}
 \def\@chapapp{Appendix}
 \def\thechapter{\Alph{chapter}}}




